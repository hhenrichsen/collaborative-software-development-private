function J(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function A(t,i){if(!isFinite(t)||t===0)return null;var o=(t=i?t.toExponential(i-1):t.toExponential()).indexOf("e"),r=t.slice(0,o);return[r.length>1?r[0]+r.slice(2):r,+t.slice(o+1)]}function K(t){return t=A(Math.abs(t)),t?t[1]:NaN}function Q(t,i){return function(o,r){for(var a=o.length,s=[],m=0,u=t[0],x=0;a>0&&u>0&&(x+u+1>r&&(u=Math.max(1,r-x)),s.push(o.substring(a-=u,a+u)),!((x+=u+1)>r));)u=t[m=(m+1)%t.length];return s.reverse().join(i)}}function R(t){return function(i){return i.replace(/[0-9]/g,function(o){return t[+o]})}}var V=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function C(t){if(!(i=V.exec(t)))throw new Error("invalid format: "+t);var i;return new F({fill:i[1],align:i[2],sign:i[3],symbol:i[4],zero:i[5],width:i[6],comma:i[7],precision:i[8]&&i[8].slice(1),trim:i[9],type:i[10]})}C.prototype=F.prototype;function F(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}F.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function W(t){t:for(var i=t.length,o=1,r=-1,a;o<i;++o)switch(t[o]){case".":r=a=o;break;case"0":r===0&&(r=o),a=o;break;default:if(!+t[o])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var j;function _(t,i){var o=A(t,i);if(!o)return j=void 0,t.toPrecision(i);var r=o[0],a=o[1],s=a-(j=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,m=r.length;return s===m?r:s>m?r+new Array(s-m+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+A(t,Math.max(0,i+s-1))[0]}function T(t,i){var o=A(t,i);if(!o)return t+"";var r=o[0],a=o[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const U={"%":(t,i)=>(t*100).toFixed(i),b:t=>Math.round(t).toString(2),c:t=>t+"",d:J,e:(t,i)=>t.toExponential(i),f:(t,i)=>t.toFixed(i),g:(t,i)=>t.toPrecision(i),o:t=>Math.round(t).toString(8),p:(t,i)=>T(t*100,i),r:T,s:_,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Y(t){return t}var Z=Array.prototype.map,q=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function tt(t){var i=t.grouping===void 0||t.thousands===void 0?Y:Q(Z.call(t.grouping,Number),t.thousands+""),o=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?Y:R(Z.call(t.numerals,String)),m=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",x=t.nan===void 0?"NaN":t.nan+"";function L(n,f){n=C(n);var g=n.fill,b=n.align,h=n.sign,M=n.symbol,w=n.zero,E=n.width,$=n.comma,v=n.precision,X=n.trim,c=n.type;c==="n"?($=!0,c="g"):U[c]||(v===void 0&&(v=12),X=!0,c="g"),(w||g==="0"&&b==="=")&&(w=!0,g="0",b="=");var D=(f&&f.prefix!==void 0?f.prefix:"")+(M==="$"?o:M==="#"&&/[boxX]/.test(c)?"0"+c.toLowerCase():""),H=(M==="$"?r:/[%p]/.test(c)?m:"")+(f&&f.suffix!==void 0?f.suffix:""),G=U[c],I=/[defgprs%]/.test(c);v=v===void 0?6:/[gprs]/.test(c)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function O(e){var p=D,l=H,y,P,k;if(c==="c")l=G(e)+l,e="";else{e=+e;var N=e<0||1/e<0;if(e=isNaN(e)?x:G(Math.abs(e),v),X&&(e=W(e)),N&&+e==0&&h!=="+"&&(N=!1),p=(N?h==="("?h:u:h==="-"||h==="("?"":h)+p,l=(c==="s"&&!isNaN(e)&&j!==void 0?q[8+j/3]:"")+l+(N&&h==="("?")":""),I){for(y=-1,P=e.length;++y<P;)if(k=e.charCodeAt(y),48>k||k>57){l=(k===46?a+e.slice(y+1):e.slice(y))+l,e=e.slice(0,y);break}}}$&&!w&&(e=i(e,1/0));var S=p.length+e.length+l.length,d=S<E?new Array(E-S+1).join(g):"";switch($&&w&&(e=i(d+e,d.length?E-l.length:1/0),d=""),b){case"<":e=p+e+l+d;break;case"=":e=p+d+e+l;break;case"^":e=d.slice(0,S=d.length>>1)+p+e+l+d.slice(S);break;default:e=d+p+e+l;break}return s(e)}return O.toString=function(){return n+""},O}function B(n,f){var g=Math.max(-8,Math.min(8,Math.floor(K(f)/3)))*3,b=Math.pow(10,-g),h=L((n=C(n),n.type="f",n),{suffix:q[8+g/3]});return function(M){return h(b*M)}}return{format:L,formatPrefix:B}}var z,it,et;rt({thousands:",",grouping:[3],currency:["$",""]});function rt(t){return z=tt(t),it=z.format,et=z.formatPrefix,z}export{C as $,K,et as r,it as t};
