import{aK as sn,aL as an,aM as l,a8 as on,aN as j,aO as F,aP as E,aQ as un,aR as cn,aS as Q,aT as y,a7 as B,aU as rn,aV as yn,aW as en}from"./index-2142a64b.js";function fn(i){return i.innerRadius}function ln(i){return i.outerRadius}function gn(i){return i.startAngle}function xn(i){return i.endAngle}function pn(i){return i&&i.padAngle}function mn(i,d,W,C,v,G,D,a){var L=W-i,r=C-d,n=D-v,x=a-G,u=x*L-n*r;if(!(u*u<l))return u=(n*(d-G)-x*(i-v))/u,[i+u*L,d+u*r]}function N(i,d,W,C,v,G,D){var a=i-W,L=d-C,r=(D?G:-G)/Q(a*a+L*L),n=r*L,x=-r*a,u=i+n,s=d+x,e=W+n,f=C+x,H=(u+e)/2,o=(s+f)/2,p=e-u,g=f-s,T=p*p+g*g,A=v-G,O=u*f-e*s,S=(g<0?-1:1)*Q(en(0,A*A*T-O*O)),_=(O*g-p*S)/T,q=(-O*p-g*S)/T,R=(O*g+p*S)/T,m=(-O*p+g*S)/T,h=_-H,t=q-o,c=R-H,I=m-o;return h*h+t*t>c*c+I*I&&(_=R,q=m),{cx:_,cy:q,x01:-n,y01:-x,x11:_*(v/A-1),y11:q*(v/A-1)}}function dn(){var i=fn,d=ln,W=B(0),C=null,v=gn,G=xn,D=pn,a=null,L=sn(r);function r(){var n,x,u=+i.apply(this,arguments),s=+d.apply(this,arguments),e=v.apply(this,arguments)-an,f=G.apply(this,arguments)-an,H=un(f-e),o=f>e;if(a||(a=n=L()),s<u&&(x=s,s=u,u=x),!(s>l))a.moveTo(0,0);else if(H>on-l)a.moveTo(s*j(e),s*F(e)),a.arc(0,0,s,e,f,!o),u>l&&(a.moveTo(u*j(f),u*F(f)),a.arc(0,0,u,f,e,o));else{var p=e,g=f,T=e,A=f,O=H,S=H,_=D.apply(this,arguments)/2,q=_>l&&(C?+C.apply(this,arguments):Q(u*u+s*s)),R=E(un(s-u)/2,+W.apply(this,arguments)),m=R,h=R,t,c;if(q>l){var I=rn(q/u*F(_)),V=rn(q/s*F(_));(O-=I*2)>l?(I*=o?1:-1,T+=I,A-=I):(O=0,T=A=(e+f)/2),(S-=V*2)>l?(V*=o?1:-1,p+=V,g-=V):(S=0,p=g=(e+f)/2)}var k=s*j(p),z=s*F(p),X=u*j(A),$=u*F(A);if(R>l){var b=s*j(g),M=s*F(g),U=u*j(T),Y=u*F(T),P;if(H<cn)if(P=mn(k,z,U,Y,b,M,X,$)){var Z=k-P[0],K=z-P[1],w=b-P[0],J=M-P[1],nn=1/F(yn((Z*w+K*J)/(Q(Z*Z+K*K)*Q(w*w+J*J)))/2),tn=Q(P[0]*P[0]+P[1]*P[1]);m=E(R,(u-tn)/(nn-1)),h=E(R,(s-tn)/(nn+1))}else m=h=0}S>l?h>l?(t=N(U,Y,k,z,s,h,o),c=N(b,M,X,$,s,h,o),a.moveTo(t.cx+t.x01,t.cy+t.y01),h<R?a.arc(t.cx,t.cy,h,y(t.y01,t.x01),y(c.y01,c.x01),!o):(a.arc(t.cx,t.cy,h,y(t.y01,t.x01),y(t.y11,t.x11),!o),a.arc(0,0,s,y(t.cy+t.y11,t.cx+t.x11),y(c.cy+c.y11,c.cx+c.x11),!o),a.arc(c.cx,c.cy,h,y(c.y11,c.x11),y(c.y01,c.x01),!o))):(a.moveTo(k,z),a.arc(0,0,s,p,g,!o)):a.moveTo(k,z),!(u>l)||!(O>l)?a.lineTo(X,$):m>l?(t=N(X,$,b,M,u,-m,o),c=N(k,z,U,Y,u,-m,o),a.lineTo(t.cx+t.x01,t.cy+t.y01),m<R?a.arc(t.cx,t.cy,m,y(t.y01,t.x01),y(c.y01,c.x01),!o):(a.arc(t.cx,t.cy,m,y(t.y01,t.x01),y(t.y11,t.x11),!o),a.arc(0,0,u,y(t.cy+t.y11,t.cx+t.x11),y(c.cy+c.y11,c.cx+c.x11),o),a.arc(c.cx,c.cy,m,y(c.y11,c.x11),y(c.y01,c.x01),!o))):a.arc(0,0,u,A,T,o)}if(a.closePath(),n)return a=null,n+""||null}return r.centroid=function(){var n=(+i.apply(this,arguments)+ +d.apply(this,arguments))/2,x=(+v.apply(this,arguments)+ +G.apply(this,arguments))/2-cn/2;return[j(x)*n,F(x)*n]},r.innerRadius=function(n){return arguments.length?(i=typeof n=="function"?n:B(+n),r):i},r.outerRadius=function(n){return arguments.length?(d=typeof n=="function"?n:B(+n),r):d},r.cornerRadius=function(n){return arguments.length?(W=typeof n=="function"?n:B(+n),r):W},r.padRadius=function(n){return arguments.length?(C=n==null?null:typeof n=="function"?n:B(+n),r):C},r.startAngle=function(n){return arguments.length?(v=typeof n=="function"?n:B(+n),r):v},r.endAngle=function(n){return arguments.length?(G=typeof n=="function"?n:B(+n),r):G},r.padAngle=function(n){return arguments.length?(D=typeof n=="function"?n:B(+n),r):D},r.context=function(n){return arguments.length?(a=n??null,r):a},r}export{dn as h};
