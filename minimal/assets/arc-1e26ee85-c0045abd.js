import{aK as sn,aL as an,aM as l,a8 as on,aN as _,aO as F,aP as E,aQ as un,aR as cn,aS as z,aT as y,a7 as B,aU as rn,aV as yn,aW as en}from"./index-b9cb25ee.js";function fn(i){return i.innerRadius}function ln(i){return i.outerRadius}function gn(i){return i.startAngle}function xn(i){return i.endAngle}function pn(i){return i&&i.padAngle}function mn(i,d,L,C,v,G,D,a){var P=L-i,r=C-d,n=D-v,x=a-G,u=x*P-n*r;if(!(u*u<l))return u=(n*(d-G)-x*(i-v))/u,[i+u*P,d+u*r]}function X(i,d,L,C,v,G,D){var a=i-L,P=d-C,r=(D?G:-G)/z(a*a+P*P),n=r*P,x=-r*a,u=i+n,s=d+x,e=L+n,f=C+x,H=(u+e)/2,o=(s+f)/2,p=e-u,g=f-s,T=p*p+g*g,O=v-G,A=u*f-e*s,S=(g<0?-1:1)*z(en(0,O*O*T-A*A)),j=(A*g-p*S)/T,q=(-A*p-g*S)/T,R=(A*g+p*S)/T,m=(-A*p+g*S)/T,h=j-H,t=q-o,c=R-H,I=m-o;return h*h+t*t>c*c+I*I&&(j=R,q=m),{cx:j,cy:q,x01:-n,y01:-x,x11:j*(v/O-1),y11:q*(v/O-1)}}function dn(){var i=fn,d=ln,L=B(0),C=null,v=gn,G=xn,D=pn,a=null,P=sn(r);function r(){var n,x,u=+i.apply(this,arguments),s=+d.apply(this,arguments),e=v.apply(this,arguments)-an,f=G.apply(this,arguments)-an,H=un(f-e),o=f>e;if(a||(a=n=P()),s<u&&(x=s,s=u,u=x),!(s>l))a.moveTo(0,0);else if(H>on-l)a.moveTo(s*_(e),s*F(e)),a.arc(0,0,s,e,f,!o),u>l&&(a.moveTo(u*_(f),u*F(f)),a.arc(0,0,u,f,e,o));else{var p=e,g=f,T=e,O=f,A=H,S=H,j=D.apply(this,arguments)/2,q=j>l&&(C?+C.apply(this,arguments):z(u*u+s*s)),R=E(un(s-u)/2,+L.apply(this,arguments)),m=R,h=R,t,c;if(q>l){var I=rn(q/u*F(j)),Q=rn(q/s*F(j));(A-=I*2)>l?(I*=o?1:-1,T+=I,O-=I):(A=0,T=O=(e+f)/2),(S-=Q*2)>l?(Q*=o?1:-1,p+=Q,g-=Q):(S=0,p=g=(e+f)/2)}var b=s*_(p),k=s*F(p),U=u*_(O),V=u*F(O);if(R>l){var M=s*_(g),N=s*F(g),Y=u*_(T),Z=u*F(T),W;if(H<cn)if(W=mn(b,k,Y,Z,M,N,U,V)){var $=b-W[0],w=k-W[1],K=M-W[0],J=N-W[1],nn=1/F(yn(($*K+w*J)/(z($*$+w*w)*z(K*K+J*J)))/2),tn=z(W[0]*W[0]+W[1]*W[1]);m=E(R,(u-tn)/(nn-1)),h=E(R,(s-tn)/(nn+1))}else m=h=0}S>l?h>l?(t=X(Y,Z,b,k,s,h,o),c=X(M,N,U,V,s,h,o),a.moveTo(t.cx+t.x01,t.cy+t.y01),h<R?a.arc(t.cx,t.cy,h,y(t.y01,t.x01),y(c.y01,c.x01),!o):(a.arc(t.cx,t.cy,h,y(t.y01,t.x01),y(t.y11,t.x11),!o),a.arc(0,0,s,y(t.cy+t.y11,t.cx+t.x11),y(c.cy+c.y11,c.cx+c.x11),!o),a.arc(c.cx,c.cy,h,y(c.y11,c.x11),y(c.y01,c.x01),!o))):(a.moveTo(b,k),a.arc(0,0,s,p,g,!o)):a.moveTo(b,k),!(u>l)||!(A>l)?a.lineTo(U,V):m>l?(t=X(U,V,M,N,u,-m,o),c=X(b,k,Y,Z,u,-m,o),a.lineTo(t.cx+t.x01,t.cy+t.y01),m<R?a.arc(t.cx,t.cy,m,y(t.y01,t.x01),y(c.y01,c.x01),!o):(a.arc(t.cx,t.cy,m,y(t.y01,t.x01),y(t.y11,t.x11),!o),a.arc(0,0,u,y(t.cy+t.y11,t.cx+t.x11),y(c.cy+c.y11,c.cx+c.x11),o),a.arc(c.cx,c.cy,m,y(c.y11,c.x11),y(c.y01,c.x01),!o))):a.arc(0,0,u,O,T,o)}if(a.closePath(),n)return a=null,n+""||null}return r.centroid=function(){var n=(+i.apply(this,arguments)+ +d.apply(this,arguments))/2,x=(+v.apply(this,arguments)+ +G.apply(this,arguments))/2-cn/2;return[_(x)*n,F(x)*n]},r.innerRadius=function(n){return arguments.length?(i=typeof n=="function"?n:B(+n),r):i},r.outerRadius=function(n){return arguments.length?(d=typeof n=="function"?n:B(+n),r):d},r.cornerRadius=function(n){return arguments.length?(L=typeof n=="function"?n:B(+n),r):L},r.padRadius=function(n){return arguments.length?(C=n==null?null:typeof n=="function"?n:B(+n),r):C},r.startAngle=function(n){return arguments.length?(v=typeof n=="function"?n:B(+n),r):v},r.endAngle=function(n){return arguments.length?(G=typeof n=="function"?n:B(+n),r):G},r.padAngle=function(n){return arguments.length?(D=typeof n=="function"?n:B(+n),r):D},r.context=function(n){return arguments.length?(a=n??null,r):a},r}export{dn as h};
